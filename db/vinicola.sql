-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Creato il: Gen 21, 2024 alle 14:47
-- Versione del server: 10.4.28-MariaDB
-- Versione PHP: 8.2.4

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `vinicola`
--

-- --------------------------------------------------------

--
-- Struttura della tabella `dht_value`
--

CREATE TABLE `dht_value` (
  `id` int(11) NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `id_sensor` int(11) NOT NULL,
  `humidity` float NOT NULL,
  `temperature` float NOT NULL,
  `lux` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dump dei dati per la tabella `dht_value`
--

INSERT INTO `dht_value` (`id`, `timestamp`, `id_sensor`, `humidity`, `temperature`, `lux`) VALUES
(164, '2024-01-18 12:30:00', 1, 82.3, 11.8, 170),
(165, '2024-01-18 12:30:00', 2, 83.5, 13.5, 185),
(166, '2024-01-18 12:45:00', 1, 80.2, 10.5, 194),
(167, '2024-01-18 12:45:00', 2, 84.1, 13.2, 163),
(168, '2024-01-18 13:00:00', 1, 81.5, 11.2, 180),
(169, '2024-01-18 13:00:00', 2, 82.8, 13.1, 200),
(170, '2024-01-18 13:15:00', 1, 80.9, 10.8, 160),
(171, '2024-01-18 13:15:00', 2, 83.2, 13.4, 220),
(172, '2024-01-18 13:30:00', 1, 82.3, 11.5, 190),
(173, '2024-01-18 13:30:00', 2, 81.7, 13.3, 210),
(174, '2024-01-18 13:45:00', 1, 83.1, 11.7, 170),
(175, '2024-01-18 13:45:00', 2, 82.4, 13, 230),
(176, '2024-01-18 14:00:00', 1, 80.5, 10.9, 200),
(177, '2024-01-18 14:00:00', 2, 84, 13.6, 180),
(178, '2024-01-18 14:15:00', 1, 81.2, 11.4, 170),
(179, '2024-01-18 14:15:00', 2, 82.5, 13.2, 200),
(180, '2024-01-18 14:30:00', 1, 80.8, 11, 190),
(181, '2024-01-18 14:30:00', 2, 83.3, 13.5, 180),
(182, '2024-01-18 14:45:00', 1, 82.1, 11.7, 210),
(183, '2024-01-18 14:45:00', 2, 81.6, 13.4, 160),
(184, '2024-01-18 15:00:00', 1, 83, 11.9, 220),
(185, '2024-01-18 15:00:00', 2, 82.2, 13.1, 240),
(186, '2024-01-18 15:15:00', 1, 80.5, 10.6, 200),
(187, '2024-01-18 15:15:00', 2, 84.1, 13.8, 230),
(188, '2024-01-18 15:30:00', 1, 82.7, 11.3, 180),
(189, '2024-01-18 15:30:00', 2, 81.9, 13, 210),
(190, '2024-01-18 15:40:46', 1, 24, 27, 83),
(191, '2024-01-18 15:40:46', 2, 26, 26, 83),
(192, '2024-01-18 15:41:19', 1, 24, 28, 82),
(193, '2024-01-18 15:41:19', 2, 26, 27, 82),
(194, '2024-01-18 15:41:29', 1, 24.1, 28, 88),
(195, '2024-01-18 15:41:29', 2, 26.1, 27, 88),
(196, '2024-01-18 15:41:39', 1, 24.1, 28, 84),
(197, '2024-01-18 15:41:39', 2, 26.1, 27, 84),
(198, '2024-01-18 15:41:49', 1, 24.1, 28, 87),
(199, '2024-01-18 15:41:49', 2, 26.1, 27, 87),
(200, '2024-01-18 15:41:59', 1, 24.2, 28, 82),
(201, '2024-01-18 15:41:59', 2, 26.2, 27, 82),
(202, '2024-01-18 15:42:09', 1, 24.2, 28, 87),
(203, '2024-01-18 15:42:09', 2, 26.2, 27, 87),
(204, '2024-01-18 15:42:19', 1, 24.2, 28, 83),
(205, '2024-01-18 15:42:19', 2, 26.2, 27, 83),
(206, '2024-01-18 15:42:29', 1, 24.2, 27, 80),
(207, '2024-01-18 15:42:29', 2, 26.2, 26, 80),
(208, '2024-01-18 15:42:40', 1, 24.2, 27, 83),
(209, '2024-01-18 15:42:40', 2, 26.2, 26, 83),
(210, '2024-01-18 15:42:50', 1, 24.2, 27, 87),
(211, '2024-01-18 15:42:50', 2, 26.2, 26, 87),
(212, '2024-01-18 15:43:00', 1, 24.2, 27, 86),
(213, '2024-01-18 15:43:00', 2, 26.2, 26, 86),
(214, '2024-01-18 15:43:10', 1, 24.2, 27, 84),
(215, '2024-01-18 15:43:10', 2, 26.2, 26, 84),
(216, '2024-01-18 15:43:20', 1, 24.3, 27, 86),
(217, '2024-01-18 15:43:20', 2, 26.3, 26, 86),
(218, '2024-01-18 15:43:30', 1, 24.3, 27, 83),
(219, '2024-01-18 15:43:30', 2, 26.3, 26, 83),
(220, '2024-01-18 15:43:40', 1, 24.3, 27, 88),
(221, '2024-01-18 15:43:40', 2, 26.3, 26, 88),
(222, '2024-01-18 15:43:50', 1, 24.3, 27, 84),
(223, '2024-01-18 15:43:50', 2, 26.3, 26, 84),
(224, '2024-01-18 15:44:00', 1, 24.3, 27, 81),
(225, '2024-01-18 15:44:00', 2, 26.3, 26, 81),
(226, '2024-01-18 15:44:10', 1, 24.3, 27, 88),
(227, '2024-01-18 15:44:10', 2, 26.3, 26, 88),
(228, '2024-01-18 15:44:20', 1, 24.3, 27, 86),
(229, '2024-01-18 15:44:20', 2, 26.3, 26, 86),
(230, '2024-01-18 15:44:30', 1, 24.3, 26, 80),
(231, '2024-01-18 15:44:30', 2, 26.3, 25, 80),
(232, '2024-01-18 15:44:40', 1, 24.3, 26, 85),
(233, '2024-01-18 15:44:40', 2, 26.3, 25, 85),
(234, '2024-01-18 15:44:50', 1, 24.3, 27, 82),
(235, '2024-01-18 15:44:50', 2, 26.3, 26, 82),
(236, '2024-01-18 15:45:00', 1, 24.4, 27, 86),
(237, '2024-01-18 15:45:00', 2, 26.4, 26, 86),
(238, '2024-01-18 15:45:10', 1, 24.4, 27, 79),
(239, '2024-01-18 15:45:10', 2, 26.4, 26, 79),
(240, '2024-01-18 15:45:20', 1, 24.4, 27, 84),
(241, '2024-01-18 15:45:20', 2, 26.4, 26, 84),
(242, '2024-01-18 15:45:30', 1, 24.4, 27, 87),
(243, '2024-01-18 15:45:30', 2, 26.4, 26, 87),
(244, '2024-01-18 15:45:40', 1, 24.4, 27, 83),
(245, '2024-01-18 15:45:40', 2, 26.4, 26, 83),
(246, '2024-01-18 15:45:50', 1, 24.4, 27, 79),
(247, '2024-01-18 15:45:50', 2, 26.4, 26, 79),
(248, '2024-01-18 15:46:00', 1, 24.4, 27, 84),
(249, '2024-01-18 15:46:01', 2, 26.4, 26, 84),
(250, '2024-01-18 15:46:11', 1, 24.4, 27, 85),
(251, '2024-01-18 15:46:11', 2, 26.4, 26, 85),
(252, '2024-01-18 15:46:21', 1, 24.4, 27, 81),
(253, '2024-01-18 15:46:21', 2, 26.4, 26, 81),
(254, '2024-01-18 15:46:31', 1, 24.4, 27, 83),
(255, '2024-01-18 15:46:31', 2, 26.4, 26, 83),
(256, '2024-01-18 15:46:41', 1, 24.4, 27, 87),
(257, '2024-01-18 15:46:41', 2, 26.4, 26, 87),
(258, '2024-01-18 15:46:51', 1, 24.4, 27, 82),
(259, '2024-01-18 15:46:51', 2, 26.4, 26, 82),
(260, '2024-01-18 15:47:01', 1, 24.4, 27, 81),
(261, '2024-01-18 15:47:01', 2, 26.4, 26, 81),
(262, '2024-01-18 15:47:11', 1, 24.4, 27, 85),
(263, '2024-01-18 15:47:11', 2, 26.4, 26, 85),
(264, '2024-01-18 15:47:21', 1, 24.4, 27, 88),
(265, '2024-01-18 15:47:21', 2, 26.4, 26, 88),
(266, '2024-01-18 15:47:31', 1, 24.4, 27, 83),
(267, '2024-01-18 15:47:31', 2, 26.4, 26, 83),
(268, '2024-01-18 15:47:41', 1, 24.4, 27, 81),
(269, '2024-01-18 15:47:41', 2, 26.4, 26, 81),
(270, '2024-01-18 15:47:51', 1, 24.4, 27, 85),
(271, '2024-01-18 15:47:51', 2, 26.4, 26, 85),
(272, '2024-01-18 15:48:01', 1, 24.4, 27, 82),
(273, '2024-01-18 15:48:01', 2, 26.4, 26, 82),
(274, '2024-01-18 15:48:11', 1, 24.4, 27, 79),
(275, '2024-01-18 15:48:11', 2, 26.4, 26, 79),
(276, '2024-01-18 15:48:21', 1, 24.5, 27, 87),
(277, '2024-01-18 15:48:21', 2, 26.5, 26, 87),
(278, '2024-01-18 15:48:31', 1, 24.5, 27, 79),
(279, '2024-01-18 15:48:31', 2, 26.5, 26, 79),
(280, '2024-01-18 15:48:41', 1, 24.5, 27, 88),
(281, '2024-01-18 15:48:41', 2, 26.5, 26, 88),
(282, '2024-01-18 15:48:51', 1, 24.5, 28, 83),
(283, '2024-01-18 15:48:51', 2, 26.5, 27, 83),
(284, '2024-01-18 15:49:01', 1, 24.5, 28, 87),
(285, '2024-01-18 15:49:01', 2, 26.5, 27, 87),
(286, '2024-01-18 15:49:11', 1, 24.5, 28, 86),
(287, '2024-01-18 15:49:11', 2, 26.5, 27, 86),
(288, '2024-01-18 15:49:21', 1, 24.5, 28, 89),
(289, '2024-01-18 15:49:21', 2, 26.5, 27, 89),
(290, '2024-01-18 15:49:32', 1, 24.5, 28, 82),
(291, '2024-01-18 15:49:32', 2, 26.5, 27, 82),
(292, '2024-01-18 15:49:42', 1, 24.6, 28, 84),
(293, '2024-01-18 15:49:42', 2, 26.6, 27, 84),
(294, '2024-01-18 15:49:52', 1, 24.6, 27, 87),
(295, '2024-01-18 15:49:52', 2, 26.6, 26, 87),
(296, '2024-01-18 15:50:02', 1, 24.6, 27, 83),
(297, '2024-01-18 15:50:02', 2, 26.6, 26, 83),
(298, '2024-01-18 15:50:12', 1, 24.6, 28, 79),
(299, '2024-01-18 15:50:12', 2, 26.6, 27, 79),
(300, '2024-01-18 15:50:22', 1, 24.6, 36, 84),
(301, '2024-01-18 15:50:22', 2, 26.6, 35, 84),
(302, '2024-01-18 15:50:32', 1, 24.8, 46, 88),
(303, '2024-01-18 15:50:32', 2, 26.8, 45, 88),
(304, '2024-01-18 15:50:42', 1, 24.9, 58, 83),
(305, '2024-01-18 15:50:42', 2, 26.9, 57, 83),
(306, '2024-01-18 15:50:52', 1, 25.2, 70, 86),
(307, '2024-01-18 15:50:52', 2, 27.2, 69, 86),
(308, '2024-01-18 15:51:02', 1, 25.5, 75, 80),
(309, '2024-01-18 15:51:02', 2, 27.5, 74, 80),
(310, '2024-01-18 15:51:12', 1, 25.7, 78, 86),
(311, '2024-01-18 15:51:12', 2, 27.7, 77, 86),
(312, '2024-01-18 15:51:22', 1, 25.9, 80, 80),
(313, '2024-01-18 15:51:22', 2, 27.9, 79, 80),
(314, '2024-01-18 15:51:32', 1, 26.1, 80, 86),
(315, '2024-01-18 15:51:32', 2, 28.1, 79, 86),
(316, '2024-01-18 15:51:42', 1, 26.1, 80, 89),
(317, '2024-01-18 15:51:42', 2, 28.1, 79, 89),
(318, '2024-01-18 15:51:52', 1, 26.1, 75, 83),
(319, '2024-01-18 15:51:52', 2, 28.1, 74, 83);

-- --------------------------------------------------------

--
-- Struttura della tabella `sensor`
--

CREATE TABLE `sensor` (
  `id` int(11) NOT NULL,
  `id_wine` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dump dei dati per la tabella `sensor`
--

INSERT INTO `sensor` (`id`, `id_wine`) VALUES
(1, 1),
(2, 2);

-- --------------------------------------------------------

--
-- Struttura della tabella `wine`
--

CREATE TABLE `wine` (
  `id` int(11) NOT NULL,
  `name` varchar(11) NOT NULL,
  `t_humidity` int(11) NOT NULL,
  `t_temperature` int(11) NOT NULL,
  `t_lux` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dump dei dati per la tabella `wine`
--

INSERT INTO `wine` (`id`, `name`, `t_humidity`, `t_temperature`, `t_lux`) VALUES
(1, 'bianco', 80, 10, 250),
(2, 'rosso', 85, 12, 250);

--
-- Indici per le tabelle scaricate
--

--
-- Indici per le tabelle `dht_value`
--
ALTER TABLE `dht_value`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_sensor` (`id_sensor`);

--
-- Indici per le tabelle `sensor`
--
ALTER TABLE `sensor`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_vino` (`id_wine`);

--
-- Indici per le tabelle `wine`
--
ALTER TABLE `wine`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT per le tabelle scaricate
--

--
-- AUTO_INCREMENT per la tabella `dht_value`
--
ALTER TABLE `dht_value`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=320;

--
-- AUTO_INCREMENT per la tabella `sensor`
--
ALTER TABLE `sensor`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT per la tabella `wine`
--
ALTER TABLE `wine`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- Limiti per le tabelle scaricate
--

--
-- Limiti per la tabella `dht_value`
--
ALTER TABLE `dht_value`
  ADD CONSTRAINT `dht_value_ibfk_1` FOREIGN KEY (`id_sensor`) REFERENCES `sensor` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Limiti per la tabella `sensor`
--
ALTER TABLE `sensor`
  ADD CONSTRAINT `sensor_ibfk_1` FOREIGN KEY (`id_wine`) REFERENCES `wine` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
